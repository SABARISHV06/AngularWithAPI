|<div id="content-wrapper" class="new-commission-slip">
    <!--content-wrapper">  -->
    <div class="container">
        <!--container-->
        <h1>New Pay Plan</h1>
         <form ng-submit="salescom.submit()" name="AddPlanForm">
            <div class="form-wrapper">
                <!--form-wrapper-->
                <!--<form id="roleformid1" class="form-horizontal" role="form">-->
                    <div class="form-group no-btm-margin">
                        <div class="col-md-6">
                            <label for="saleperson-name" class="col-sm-4 control-label">Pay Plan Name</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" ng-model="Plandetail.PlanName" name="PlanName" id="PlanName"  ng-pattern="/^[a-zA-Z0-9,.' ]*$/" maxlength="30" required>
                                <span ng-show="AddPlanForm.$dirty && AddPlanForm.PlanName.$error.required" class="text-danger field-validation-error">This is a required field</span>
                                <span ng-show="AddPlanForm.PlanName.$error.pattern" class="text-danger field-validation-error">This field is invalid </span>
                              </div>
                               
                            </div>
                        <div class="clearfix"></div>
                    </div>
               <!-- </form> -->
            </div><!--form-wrapper-->
            <div class="clearfix"></div>
            <h2>Set Target Gross Profit</h2>
            <div class="form-wrapper">
                <!--form-wrapper-->
                <!--<form class="form-horizontal" id="roleformid2" role="form">-->
                    <div class="form-group row">
                        <div class="col-md-6">
                            <label class="col-sm-4 control-label">Based Upon </label>
                            <div class="col-sm-8">
                                <label class="radio-inline">
                                    <input type="radio" name="Basedupon" id="DollarVolume" ng-checked="true" value="1" ng-model="Plandetail.BasisType">
                                    Dollar Volume
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="Basedupon" id="GrossProfit" value="2" ng-model="Plandetail.BasisType">
                                    Gross Profit
                                </label>
                            </div>
                        </div>

                        <div class="clearfix"></div>

                        <div class="new-customer">
                            <!--new-customer-->

                            <div class="col-md-6" style="margin-bottom: 0px;"><div class="col-md-12"><h2>New Customer</h2></div></div>
                            <div class="col-md-12 scrollPayplandetails">
                                <div class="col-md-12 row" ng-repeat="Row in NewCustomerRow">
                                    <div class="col-md-6">
                                        <label class="col-sm-4 control-label">Sale Type</label>
                                        <div class="col-sm-8">
                                            <select class="form-control"  ng-model="Row.SalesType" name="NewCustomerSalesType_{{$index}}" id="NewCustomerSalesType{{$index}}" required>
                                                <option value="">SELECT</option>
                                                <option ng-repeat="item in SaleTypeList | filter:{ IsNewCustomer: true }| filter:{ IsActive: true }" value="{{item.ID}}">{{item.SaleTypeName}}</option>
                                            </select>
                                           <span ng-show="AddPlanForm.$dirty && AddPlanForm['NewCustomerPercentage_'+$index].$valid && AddPlanForm['NewCustomerSalesType_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                        </div>

                                    </div>
                                    <div class="col-md-6">
                                        <label class="col-sm-4 control-label">Percentage</label>
                                        <div class="col-sm-6">
                                            <input type="text"  class="form-control" name="NewCustomerPercentage_{{$index}}" id="NewCustomerPercentage{{$index}}" placeholder="" ng-model="Row.Percentage" ng-pattern="/^[0-9]+(\.[0-9]{1,3})?$|^100$/" required>
                                               <span ng-show="AddPlanForm.$dirty && AddPlanForm['NewCustomerSalesType_'+$index].$valid && AddPlanForm['NewCustomerPercentage_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                                <span ng-show="AddPlanForm['NewCustomerPercentage_'+$index].$error.pattern" class="text-danger field-validation-error">This field is invalid </span>
                                            </div>
                                        </div>
                                        <div class="col-sm-2">
                                            <ul class="add-remove-icons no-padding">
                                                <li ng-if="$last"><a href="javascript:void(0);" ng-click="AddNewCustomerRow()"><i class="fa fa-lg fa-plus active"></i></a></li>
                                                <li ng-if="NewCustomerRow.length!=1"><a href="javascript:void(0);" ng-click="RemoveNewCustomerRow($index)"><i class="fa fa-lg fa-remove disabled"></i></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>   <!--new-customer-->
                            

                        <div class="clearfix"></div>

                        <div class="existing-customer">
                            <!--Existing Customer-->

                            <div class="col-md-6" style="margin-bottom: 0px;"><div class="col-md-12"><h2>Existing Customer</h2></div></div>
                            <div class="col-md-12 scrollPayplandetails">
                                <div class="col-md-12 row" ng-repeat="Row in ExistingCustomerRow">
                                    <div class="col-md-6">
                                        <label class="col-sm-4 control-label">Sale Type</label>
                                        <div class="col-sm-8">
                                            <select class="form-control" ng-model="Row.SalesType" name="ExistingCustomerSalesType_{{$index}}" id="ExistingCustomerSalesType_{{$index}}" required>
                                                <option value="">SELECT</option>
                                                <option ng-repeat="item in SaleTypeList | filter:{ IsExistingCustomer: true }| filter:{ IsActive: true }" value="{{item.ID}}">{{item.SaleTypeName}}</option>
                                            </select>
                                            <span ng-show="AddPlanForm.$dirty && AddPlanForm['ExistingCustomerPercentage_'+$index].$valid && AddPlanForm['ExistingCustomerSalesType_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="col-sm-4 control-label">Percentage</label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" id="ExistingCustomerPercentage_{{$index}}" name="ExistingCustomerPercentage_{{$index}}" placeholder="" ng-model="Row.Percentage" ng-pattern="/^[0-9]+(\.[0-9]{1,3})?$|^100$/" required>
                                            <span ng-show="AddPlanForm.$dirty && AddPlanForm['ExistingCustomerSalesType_'+$index].$valid && AddPlanForm['ExistingCustomerPercentage_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                            <span ng-show="AddPlanForm['ExistingCustomerPercentage_'+$index].$error.pattern" class="text-danger field-validation-error">This field is invalid </span>
                                        </div>
                                        <div class="col-sm-2">
                                            <ul class="add-remove-icons no-padding">
                                                <li ng-if="$last"><a href="javascript:void(0);" ng-click="AddExistingCustomerRow()"><i class="fa fa-lg fa-plus active"></i></a></li>
                                                <li ng-if="ExistingCustomerRow.length!=1"><a href="javascript:void(0);" ng-click="RemoveExistingCustomerRow($index)"><i class="fa fa-lg fa-remove disabled"></i></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>   <!--Existing Customer-->


                        <div class="clearfix"></div>

                        <div><hr></div>

                        <div class="set-bonus-parameters col-md-12 row">
                            <!--Set Bonus Parameters-->
                            <div class="col-md-6" style="margin-bottom: 0px;"><div class="col-md-12"><h2>Set Bonus Parameters</h2></div></div>
                            <div class="clearfix"></div>
                            <div class="bi-monthly-quota-bonus">
                                <!--bi-monthly-quota-bonus-->
                                <div class="col-md-8">
                                    <label class="col-sm-4 control-label">Bi-Monthly Quota Bonus </label>
                                    <div class="col-sm-8">
                                        <label class="radio-inline">
                                            <input type="radio" name="bi-monthly-quota-bonus" id="yes" ng-value="true" ng-model="Plandetail.BMQuotaBonus" ng-click="BimonthlyShow()" >
                                            Yes
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" name="bi-monthly-quota-bonus" id="no" ng-value="false" ng-model="Plandetail.BMQuotaBonus" ng-checked="true" ng-click="BimonthlyHide()">
                                            No
                                        </label>
                                    </div>
                                </div>
                              
                             <div class="clearfix"></div>
                                <div class="col-md-12 scrollPayplandetails">
                                    <div class="fields" ng-if="Plandetail.BMQuotaBonus==true" ng-repeat="Row in BimonthsRow">
                                        <div class="clearfix"></div>
                                        <div class="col-md-3">
                                            <label class="col-sm-12 control-label">Months</label>
                                            <div class="col-sm-12">
                                                <select class="form-control" ng-model="Row.Months" name="BiMonthlyMonths_{{$index}}" id="BiMonthlyMonths{{$index}}" required>
                                                    <option value="">SELECT</option>
                                                    <option ng-repeat="item in BimonthsOptions" value="{{item}}">{{item}}</option>
                                                </select>
                                                <span ng-show="AddPlanForm.$dirty && AddPlanForm['BiMonthlyMonths_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="col-sm-12 control-label">Tier</label>
                                            <div class="col-sm-12">
                                                <input type="text" class="form-control" id="BimonthlyTier{{$index}}" name="BimonthlyTier_{{$index}}" placeholder="" ng-model="Row.Tier" maxlength="20" ng-pattern="/^[a-zA-Z0-9,.' ]*$/" required>
                                                <span ng-show="AddPlanForm.$dirty && AddPlanForm['BimonthlyTier_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                                <span ng-show="AddPlanForm['BimonthlyTier_'+$index].$error.pattern" class="text-danger field-validation-error">This field is invalid </span>
                                            </div>
                                        </div>

                                        <div class="col-md-4">
                                            <label class="col-sm-12 control-label">Entry Point($)</label>
                                            <div class="col-sm-5">
                                                <input type="text" min="0" maxlength="20" class="form-control" placeholder="" ng-change="Entrycheck({{$index}})"  ng-model="Row.EntryPointA" id="BimonthlyEntryPointA{{$index}}" name="BimonthlyEntryPointA_{{$index}}" ng-pattern="/^[0-9]+$/" required>
                                                <span ng-show="AddPlanForm.$dirty && AddPlanForm['BimonthlyEntryPointA_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                                <span ng-show="AddPlanForm.$dirty && !AddPlanForm['BimonthlyEntryPointA_'+$index].$error.required && AddPlanForm['BimonthlyEntryPointA_'+$index].$invalid && AddPlanForm['BimonthlyEntryPointA_'+$index].$error.pattern" class="text-danger field-validation-error">This field is invalid </span>
                                                <!--<span ng-show="AddPlanForm.$dirty && !AddPlanForm.BimonthlyEntryPointA{{$index}}.$error.required && error" class="text-danger field-validation-error">Entry Point From should be less than EntryPoint To</span>-->
                                            </div>
                                            <div class="col-sm-1">
                                                _                                      
                                            </div>
                                           <div class="col-sm-5">
                                                <input type="text" min="0" maxlength="20" class="form-control" placeholder=""ng-change="Entrycheck({{$index}})" ng-model="Row.EntryPointB" id="BimonthlyEntryPointB{{$index}}" name="BimonthlyEntryPointB_{{$index}}" ng-pattern="/^[0-9]+$/" ng-required="Requiredfield({{$index}})">
                                                <span ng-show="AddPlanForm.$dirty && (Requiredfield({{$index}}) && AddPlanForm['BimonthlyEntryPointB_'+$index].$error.required)" class="text-danger field-validation-error">This is a required field</span>
                                                <span ng-show="AddPlanForm.$dirty&& !AddPlanForm['BimonthlyEntryPointB_'+$index].$error.required && AddPlanForm['BimonthlyEntryPointB_'+$index].$invalid && AddPlanForm['BimonthlyEntryPointB_'+$index].$error.pattern" class="text-danger field-validation-error">This field is invalid </span>
                                                <!--<span ng-show="AddPlanForm.$dirty && !AddPlanForm.BimonthlyEntryPointB{{$index}}.$error.required && error" class="text-danger field-validation-error">Entry Point From should be less than EntryPoint To</span>-->
                                            </div>
                                            <span ng-show="AddPlanForm.$dirty&& !AddPlanForm['BimonthlyEntryPointA_'+$index].$error.required && !AddPlanForm['BimonthlyEntryPointB_'+$index].$error.required && Entrypointscheck[{{$index}}]" class="text-danger field-validation-error">EntryPoint From should be less than EntryPoint To</span>
                                        </div>

                                        <div class="col-md-2">
                                            <label class="col-sm-12 control-label">Percentage</label>
                                            <div class="col-sm-8">
                                                <input type="text" min="0" max="100" class="form-control" id="BimonthlyPercentage{{$index}}" name="BimonthlyPercentage_{{$index}}" placeholder="" ng-model="Row.Percentage" ng-pattern="/^[0-9]+(\.[0-9]{1,3})?$|^100$/" required>
                                                <span ng-show="AddPlanForm.$dirty && AddPlanForm['BimonthlyPercentage_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                                <span ng-show="AddPlanForm.$dirty && !AddPlanForm['BimonthlyPercentage_'+$index].$error.required && AddPlanForm['BimonthlyPercentage_'+$index].$invalid && AddPlanForm['BimonthlyPercentage_'+$index].$error.pattern" class="text-danger field-validation-error">This field is invalid </span>
                                            </div>
                                            <div class="col-sm-4">
                                                <ul class="add-remove-icons no-padding">
                                                    <li ng-if="$last"><a href="javascript:void(0);" ng-click="AddBimonthsRow($index)"><i class="fa fa-lg fa-plus active"></i></a></li>
                                                    <li ng-if="BimonthsRow.length!=1"><a href="javascript:void(0);" ng-click="RemoveBimonthsRow($index)"><i class="fa fa-lg fa-remove disabled"></i></a></li>
                                                </ul>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                </div><!--bi-monthly-quota-bonus-->

                            <div class="clearfix"></div>
                            <div><hr></div>

                            <div class="sales-manager-eligible">
                                <!--sales-manager-eligible-->
                                <div class="col-md-8">
                                    <label class="col-sm-4 control-label">Sales Manager Eligible   </label>
                                    <div class="col-sm-8">
                                        <label class="radio-inline">
                                            <input type="radio" name="sales-manager-eligible" id="yes" value="true" ng-model="Plandetail.SMEligible">
                                            Yes
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" name="sales-manager-eligible" id="no" value="false" ng-model="Plandetail.SMEligible" ng-checked="true">
                                            No
                                        </label>
                                    </div>
                                </div>
                            </div> <!--sales-manager-eligible-->
                            <div class="clearfix"></div>
                            <div><hr></div>


                            <div class="quarterly-tenure-bonus">
                                <!--quarterly-tenure-bonus-->
                                <div class="col-md-8">
                                    <label class="col-sm-4 control-label">Quarterly Tenure  Bonus  </label>
                                    <div class="col-sm-8">
                                        <label class="radio-inline">
                                            <input type="radio" name="quarterly-tenure-bonus" id="yes" ng-value="true" ng-model="Plandetail.TenureBonus" ng-click="TenureShow()">
                                            Yes
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" name="quarterly-tenure-bonus" id="no" ng-value="false" ng-model="Plandetail.TenureBonus" ng-checked="true" ng-click="TenureHide()">
                                            No
                                        </label>
                                    </div>
                                </div>

                                <div class="clearfix"></div>
                                <div class="col-md-12 scrollPayplandetails">
                                    <div class="fields" ng-if="Plandetail.TenureBonus==true" ng-repeat="Row in TenureRow">
                                        <div class="clearfix"></div>
                                        <div class="col-md-3">
                                            <label class="col-sm-12 control-label">Months</label>
                                            <div class="col-sm-12">
                                                <select class="form-control" ng-model="Row.Months" name="QuarterlyMonths_{{$index}}" id="QuarterlyMonths{{$index}}" required>
                                                    <option value="">SELECT</option>
                                                    <option ng-repeat="item in TenureOptions" value="{{item}}">{{item}}</option>
                                                </select>
                                                <span ng-show="AddPlanForm.$dirty && AddPlanForm['QuarterlyMonths_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="col-sm-12 control-label">Tier</label>
                                            <div class="col-sm-12">
                                                <input type="text" class="form-control" id="TenureTier{{$index}}" name="TenureTier_{{$index}}" placeholder="" ng-model="Row.Tier" maxlength="20"  ng-pattern="/^[a-zA-Z0-9,.' ]*$/" required>
                                                <span ng-show="AddPlanForm.$dirty && AddPlanForm['TenureTier_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                                <span ng-show="AddPlanForm['TenureTier_'+$index].$error.pattern" class="text-danger field-validation-error">This field is invalid </span>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <label class="col-sm-12 control-label">Entry Point</label>
                                            <div class="col-sm-12">
                                                <input type="text" min="0" maxlength="20" class="form-control" id="TenureEntryPointA{{$index}}" name="TenureEntryPointA_{{$index}}" placeholder="" ng-model="Row.EntryPointA" ng-pattern="/^[0-9]+$/" required>
                                                <span ng-show="AddPlanForm.$dirty && AddPlanForm['TenureEntryPointA_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                                <span ng-show="AddPlanForm.$dirty && !AddPlanForm['TenureEntryPointA_'+$index].$error.required && AddPlanForm['TenureEntryPointA_'+$index].$invalid && AddPlanForm['TenureEntryPointA_'+$index].$error.pattern" class="text-danger field-validation-error">This field is invalid </span>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <label class="col-sm-12 control-label">Percentage</label>
                                            <div class="col-sm-8">
                                                <input type="text" min="0" max="100" class="form-control" id="TenurePercentage{{$index}}" name="TenurePercentage_{{$index}}" placeholder="" ng-model="Row.Percentage" ng-pattern="/^[0-9]+(\.[0-9]{1,3})?$|^100$/" required>
                                                <span ng-show="AddPlanForm.$dirty && AddPlanForm['TenurePercentage_'+$index].$error.required" class="text-danger field-validation-error">This is a required field</span>
                                                <span ng-show="AddPlanForm.$dirty && !AddPlanForm['TenurePercentage_'+$index].$error.required && AddPlanForm['TenurePercentage_'+$index].$invalid  && AddPlanForm['TenurePercentage_'+$index].$error.pattern" class="text-danger field-validation-error">This field is invalid </span>
                                            </div>
                                            <div class="col-sm-4">
                                                <ul class="add-remove-icons no-padding">
                                                    <li ng-if="$last"><a href="javascript:void(0);" ng-click="AddTenureRow()"><i class="fa fa-lg fa-plus active"></i></a></li>
                                                    <li ng-if="TenureRow.length!=1"><a href="javascript:void(0);" ng-click="RemoveTenureRow($index)"><i class="fa fa-lg fa-remove disabled"></i></a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                </div><!--quarterly-tenure-bonus-->

                            


                        </div> <!--Set Bonus Parameters-->

                        <div class="clearfix"></div>




                    </div>
                <!--</form>-->
        </form>
            <div class="clearfix"></div>


            <div class="clearfix"></div>

            <div class="col-md-6 col-md-offset-6">
                <div class="row">
                    <ul class="pull-right btns">
                        <!--<li><a class="btn" ng-click="AddPlan()" href="javascript:void(0);" >Save</a></li>-->
                        <li><input type="button" value="Create" class="btn" ng-click="AddPlan()" ng-disabled="AddPlanForm.$invalid"></li>
                        <li><a class="btn"href="javascript:void(0)" ng-click="NewPayPlanCancelConfirmation()" >Cancel</a></li>
                    </ul>
                </div>
            </div>


</div><!--container-->
</div>
